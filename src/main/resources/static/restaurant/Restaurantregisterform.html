<link
  href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
  rel="stylesheet"
  id="bootstrap-css"
/>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link
  rel="stylesheet"
  href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"
/>

<style>
  .divider-text {
    position: relative;
    text-align: center;
    margin-top: 15px;
    margin-bottom: 15px;
  }

  .divider-text span {
    padding: 7px;
    font-size: 12px;
    position: relative;
    z-index: 2;
  }

  .divider-text:after {
    content: "";
    position: absolute;
    width: 100%;
    border-bottom: 1px solid #ddd;
    top: 55%;
    left: 0;
    z-index: 1;
  }
</style>
<br />
<br />
<br />
<div class="col-1"></div>
<div class="container col-10">
  <div class="card bg-light">
    <form method="post" action="restaurantregister" name="register">
      <h4 class="card-title mt-3 text-center">建立帳號</h4>
      <div class="row">
        <div class="col-6">
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-user"></i>
              </span>
            </div>
            <input
              name="username"
              class="form-control"
              placeholder="請輸入餐廳名稱"
              type="text"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-envelope"></i>
              </span>
            </div>
            <input
              name="email"
              class="form-control"
              placeholder="請輸入郵箱"
              type="email"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-phone"></i>
              </span>
            </div>

            <input
              name="phone"
              class="form-control"
              placeholder="請輸入手機"
              type="number"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-map-marker-alt"></i>
              </span>
            </div>
            <input
              name="address"
              autocomplete="current-password"
              class="form-control"
              placeholder="請輸入餐廳地址"
              type="text"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-lock"></i>
              </span>
            </div>
            <input
              name="account"
              autocomplete="current-password"
              class="form-control"
              placeholder="輸入帳號"
              type="password"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-lock"></i>
              </span>
            </div>
            <input
              name="password"
              autocomplete="current-password"
              class="form-control"
              placeholder="輸入密碼"
              type="password"
            />
          </div>
        </div>

        <div class="col-6">
          <span>開始營業時間</span>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fas fa-clock"></i>
              </span>
            </div>
            <input
              name="starttime"
              class="form-control"
              placeholder="開始營業時間"
              type="time"
            />
          </div>

          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-ticket-alt"></i>
              </span>
            </div>
            <input
              name="seatmax"
              class="form-control"
              placeholder="每時段可定位上限"
              type="number"
            />
          </div>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-table"></i>
              </span>
            </div>
            <input
              name="seat"
              autocomplete="current-password"
              class="form-control"
              placeholder="座位數"
              type="number"
            />
          </div>
          <span>結束營業時間</span>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fas fa-clock"></i>
              </span>
            </div>
            <input
              name="endtime"
              class="form-control"
              placeholder="結束營業時間"
              type="time"
            />
          </div>
          <div class="form-group input-group" hidden>
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-table"></i>
              </span>
            </div>
            <select name="status" class="form-control">
              <option value="1">申請中</option>
            </select>
          </div>
          <span>是否可接受單人客人</span>
          <div class="form-group input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">
                <i class="fa fa-table"></i>
              </span>
            </div>
            <select name="guestOption" class="form-control">
              <option value="1">是</option>
              <option value="0">否</option>
            </select>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block">
              送出
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="col-1"></div>
<script>
  $(document).ready(function () {
    $("form").submit(function (event) {
      event.preventDefault();

      var formData = {
        account: $('input[name="account"]').val(),
        password: $('input[name="password"]').val(),
        name: $('input[name="username"]').val(),
        address: $('input[name="address"]').val(),
        phone: $('input[name="phone"]').val(),
        email: $('input[name="email"]').val(),
        starttime: $('input[name="starttime"]').val(),
        seatmax: $('input[name="seatmax"]').val(),
        seat: $('input[name="seat"]').val(),
        endtime: $('input[name="endtime"]').val(),
        status: $('select[name="status"]').val(),
        guestOption: $('select[name="guestOption"]').val(),
      };

      $.ajax({
        type: "POST",
        url: "restaurantregister",
        data: formData,
        success: function (response) {
          if (response == 1) {
            alert("註冊成功,請前往信箱收取郵件");
          } else if (response === 2) {
            alert("註冊失敗");
          }
        },
      });
    });
  });
</script>
